import*as n from"react";import{createContext as t,useContext as r,useLayoutEffect as a,useEffect as e,useRef as o,useCallback as i,useMemo as u,forwardRef as s,createElement as l}from"react";import{i as c,_ as v,a as f,P as d,b as m,c as p,d as y,e as g,f as h,g as S,h as E,j as w,k as P,u as T,l as V,m as b,r as C,n as A,s as x,o as M,p as k}from"./size-rollup-dom-animation-assets.js";var D=function(n){return{isEnabled:function(t){return n.some((function(n){return!!t[n]}))}}},H={measureLayout:D(["layout","layoutId","drag","_layoutResetTransform"]),animation:D(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:D(["exit"]),drag:D(["drag","dragControls"]),focus:D(["whileFocus"]),hover:D(["whileHover","onHoverStart","onHoverEnd"]),tap:D(["whileTap","onTap","onTapStart","onTapCancel"]),pan:D(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:D(["layout","layoutId"])};var I=t({strict:!1}),L=Object.keys(H),R=L.length;var F=t({transformPagePoint:function(n){return n},isStatic:!1}),B=t({});var O=t(null),j=f?a:e;function _(n,t,a,i){var u=r(F),s=r(I),l=r(B).visualElement,c=r(d),f=function(n){var t=n.layoutId,a=r(O);return a&&void 0!==t?a+"-"+t:t}(a),p=o(void 0);i||(i=s.renderer),!p.current&&i&&(p.current=i(n,{visualState:t,parent:l,props:v(v({},a),{layoutId:f}),presenceId:null==c?void 0:c.id,blockInitialAnimation:!1===(null==c?void 0:c.initial)}));var y=p.current;return j((function(){y&&(y.setProps(v(v(v({},u),a),{layoutId:f})),y.isPresent=m(c),y.isPresenceRoot=!l||l.presenceId!==(null==c?void 0:c.id),y.syncRender())})),e((function(){var n;y&&(null===(n=y.animationState)||void 0===n||n.animateChanges())})),j((function(){return function(){return null==y?void 0:y.notifyUnmount()}}),[]),y}function U(n,t,r){return i((function(a){var e,o;a&&(null===(e=n.mount)||void 0===e||e.call(n,a)),t&&(a?t.mount(a):t.unmount()),r&&("function"==typeof r?r(a):"object"==typeof(o=r)&&Object.prototype.hasOwnProperty.call(o,"current")&&(r.current=a))}),[t])}function K(n,t){var a=function(n,t){if(p(n)){var r=n.initial,a=n.animate;return{initial:!1===r||y(r)?r:void 0,animate:y(a)?a:void 0}}return!1!==n.inherit?t:{}}(n,r(B)),e=a.initial,o=a.animate;return u((function(){return{initial:e,animate:o}}),t?[N(e),N(o)]:[])}function N(n){return Array.isArray(n)?n.join(" "):n}function W(t){var a=t.preloadedFeatures,e=t.createVisualElement,o=t.useRender,i=t.useVisualState,u=t.Component;return a&&function(n){for(var t in n){var r=n[t];null!==r&&(H[t].Component=r)}}(a),s((function(t,s){var l=r(F).isStatic,d=null,m=K(t,l),p=i(t,l);return!l&&f&&(m.visualElement=_(u,p,t,e),d=function(t,a,e){var o=[],i=r(I);if(!a)return null;"production"!==process.env.NODE_ENV&&e&&i.strict&&c(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var u=0;u<R;u++){var s=L[u],l=H[s],f=l.isEnabled,d=l.Component;f(t)&&d&&o.push(n.createElement(d,v({key:s},t,{visualElement:a})))}return o}(t,m.visualElement,a)),n.createElement(n.Fragment,null,n.createElement(B.Provider,{value:m},o(u,t,U(p,m.visualElement,s),p,l)),d)}))}var z=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Y(n,t,r){for(var a in t)g(t[a])||h(a,r)||(n[a]=t[a])}function q(n,t,r){var a={};return Y(a,n.style||{},n),Object.assign(a,function(n,t,r){var a=n.transformTemplate;return u((function(){var n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};S(n,t,void 0,void 0,{enableHardwareAcceleration:!r},a);var e=n.style;return v(v({},n.vars),e)}),[t])}(n,t,r)),n.transformValues&&(a=n.transformValues(a)),a}function X(n,t,r){var a={},e=q(n,t,r);return Boolean(n.drag)&&(a.draggable=!1,e.userSelect=e.WebkitUserSelect=e.WebkitTouchCallout="none",e.touchAction=!0===n.drag?"none":"pan-"+("x"===n.drag?"y":"x")),a.style=e,a}var G=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function J(n){return G.has(n)}var Q=function(n){return!J(n)};try{var Z=require("@emotion/is-prop-valid").default;Q=function(n){return n.startsWith("on")?!J(n):Z(n)}}catch(n){}var $=function(){return v(v({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function nn(n,t){var r=u((function(){var r=$();return E(r,t,void 0,void 0,{enableHardwareAcceleration:!1},n.transformTemplate),v(v({},r.attrs),{style:v({},r.style)})}),[t]);if(n.style){var a={};Y(a,n.style,n),r.style=v(v({},a),r.style)}return r}function tn(n){void 0===n&&(n=!1);return function(t,r,a,e,o){var i=e.latestValues,u=(w(t)?nn:X)(r,i,o),s=function(n,t,r){var a={};for(var e in n)(Q(e)||!0===r&&J(e)||!t&&!J(e))&&(a[e]=n[e]);return a}(r,"string"==typeof t,n),c=v(v(v({},s),u),{ref:a});return l(t,c)}}function rn(n,t,r,a){var e=n.scrapeMotionValuesFromProps,o=n.createRenderState,i=n.onMount,u={latestValues:en(t,r,a,e),renderState:o()};return i&&(u.mount=function(n){return i(t,n,u)}),u}var an=function(n){return function(t,a){var e=r(B),o=r(d);return a?rn(n,t,e,o):T((function(){return rn(n,t,e,o)}))}};function en(n,t,r,a){var e,o,i={},u=!1===(null==r?void 0:r.initial),s=a(n);for(var l in s)i[l]=(e=s[l],o=void 0,o=g(e)?e.get():e,P(o)?o.toValue():o);var c=n.initial,v=n.animate,f=p(n),d=V(n);t&&d&&!f&&!1!==n.inherit&&(null!=c||(c=t.initial),null!=v||(v=t.animate));var m=u||!1===c?v:c;m&&"boolean"!=typeof m&&!b(m)&&(Array.isArray(m)?m:[m]).forEach((function(t){var r=C(n,t);if(r){var a=r.transitionEnd;r.transition;var e=A(r,["transitionEnd","transition"]);for(var o in e)i[o]=e[o];for(var o in a)i[o]=a[o]}}));return i}var on={useVisualState:an({scrapeMotionValuesFromProps:x,createRenderState:$,onMount:function(n,t,r){var a=r.renderState,e=r.latestValues;try{a.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(n){a.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(a.totalPathLength=t.getTotalLength()),E(a,e,void 0,void 0,{enableHardwareAcceleration:!1},n.transformTemplate),M(t,a)}})};var un={useVisualState:an({scrapeMotionValuesFromProps:k,createRenderState:z})};var sn=function(n){function t(t,r){return void 0===r&&(r={}),W(n(t,r))}var r=new Map;return new Proxy(t,{get:function(n,a){return r.has(a)||r.set(a,t(a)),r.get(a)}})}((function(n,t,r,a){var e=t.forwardMotionProps,o=void 0!==e&&e,i=w(n)?on:un;return v(v({},i),{preloadedFeatures:r,useRender:tn(o),createVisualElement:a,Component:n})}));export{sn as m};
