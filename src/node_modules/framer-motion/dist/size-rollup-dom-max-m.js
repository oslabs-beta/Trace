import*as n from"react";import{createContext as t,useContext as r,useLayoutEffect as a,useEffect as e,useRef as o,useCallback as i,useMemo as u,forwardRef as s,createElement as l}from"react";import{i as c,_ as v,a as d,M as f,P as m,b as p,c as g,d as y,e as h,f as S,g as E,h as w,j as P,k as T,l as V,u as C,m as b,n as x,r as A,o as M,s as k,p as D,q as H}from"./size-rollup-dom-max-assets.js";var I=function(n){return{isEnabled:function(t){return n.some((function(n){return!!t[n]}))}}},L={measureLayout:I(["layout","layoutId","drag","_layoutResetTransform"]),animation:I(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:I(["exit"]),drag:I(["drag","dragControls"]),focus:I(["whileFocus"]),hover:I(["whileHover","onHoverStart","onHoverEnd"]),tap:I(["whileTap","onTap","onTapStart","onTapCancel"]),pan:I(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:I(["layout","layoutId"])};var R=t({strict:!1}),F=Object.keys(L),B=F.length;var O=t({});var _=t(null),j=d?a:e;function U(n,t,a,i){var u=r(f),s=r(R),l=r(O).visualElement,c=r(m),d=function(n){var t=n.layoutId,a=r(_);return a&&void 0!==t?a+"-"+t:t}(a),g=o(void 0);i||(i=s.renderer),!g.current&&i&&(g.current=i(n,{visualState:t,parent:l,props:v(v({},a),{layoutId:d}),presenceId:null==c?void 0:c.id,blockInitialAnimation:!1===(null==c?void 0:c.initial)}));var y=g.current;return j((function(){y&&(y.setProps(v(v(v({},u),a),{layoutId:d})),y.isPresent=p(c),y.isPresenceRoot=!l||l.presenceId!==(null==c?void 0:c.id),y.syncRender())})),e((function(){var n;y&&(null===(n=y.animationState)||void 0===n||n.animateChanges())})),j((function(){return function(){return null==y?void 0:y.notifyUnmount()}}),[]),y}function K(n,t){var a=function(n,t){if(y(n)){var r=n.initial,a=n.animate;return{initial:!1===r||h(r)?r:void 0,animate:h(a)?a:void 0}}return!1!==n.inherit?t:{}}(n,r(O)),e=a.initial,o=a.animate;return u((function(){return{initial:e,animate:o}}),t?[N(e),N(o)]:[])}function N(n){return Array.isArray(n)?n.join(" "):n}function W(t){var a=t.preloadedFeatures,e=t.createVisualElement,o=t.useRender,u=t.useVisualState,l=t.Component;return a&&function(n){for(var t in n){var r=n[t];null!==r&&(L[t].Component=r)}}(a),s((function(t,s){var m=r(f).isStatic,p=null,y=K(t,m),h=u(t,m);return!m&&d&&(y.visualElement=U(l,h,t,e),p=function(t,a,e){var o=[],i=r(R);if(!a)return null;"production"!==process.env.NODE_ENV&&e&&i.strict&&c(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var u=0;u<B;u++){var s=F[u],l=L[s],d=l.isEnabled,f=l.Component;d(t)&&f&&o.push(n.createElement(f,v({key:s},t,{visualElement:a})))}return o}(t,y.visualElement,a)),n.createElement(n.Fragment,null,n.createElement(O.Provider,{value:y},o(l,t,function(n,t,r){return i((function(a){var e;a&&(null===(e=n.mount)||void 0===e||e.call(n,a)),t&&(a?t.mount(a):t.unmount()),r&&("function"==typeof r?r(a):g(r)&&(r.current=a))}),[t])}(h,y.visualElement,s),h,m)),p)}))}var q=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function z(n,t,r){for(var a in t)S(t[a])||E(a,r)||(n[a]=t[a])}function Y(n,t,r){var a={};return z(a,n.style||{},n),Object.assign(a,function(n,t,r){var a=n.transformTemplate;return u((function(){var n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};w(n,t,void 0,void 0,{enableHardwareAcceleration:!r},a);var e=n.style;return v(v({},n.vars),e)}),[t])}(n,t,r)),n.transformValues&&(a=n.transformValues(a)),a}function X(n,t,r){var a={},e=Y(n,t,r);return Boolean(n.drag)&&(a.draggable=!1,e.userSelect=e.WebkitUserSelect=e.WebkitTouchCallout="none",e.touchAction=!0===n.drag?"none":"pan-"+("x"===n.drag?"y":"x")),a.style=e,a}var G=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function J(n){return G.has(n)}var Q=function(n){return!J(n)};try{var Z=require("@emotion/is-prop-valid").default;Q=function(n){return n.startsWith("on")?!J(n):Z(n)}}catch(n){}var $=function(){return v(v({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function nn(n,t){var r=u((function(){var r=$();return P(r,t,void 0,void 0,{enableHardwareAcceleration:!1},n.transformTemplate),v(v({},r.attrs),{style:v({},r.style)})}),[t]);if(n.style){var a={};z(a,n.style,n),r.style=v(v({},a),r.style)}return r}function tn(n){void 0===n&&(n=!1);return function(t,r,a,e,o){var i=e.latestValues,u=(T(t)?nn:X)(r,i,o),s=function(n,t,r){var a={};for(var e in n)(Q(e)||!0===r&&J(e)||!t&&!J(e))&&(a[e]=n[e]);return a}(r,"string"==typeof t,n),c=v(v(v({},s),u),{ref:a});return l(t,c)}}function rn(n,t,r,a){var e=n.scrapeMotionValuesFromProps,o=n.createRenderState,i=n.onMount,u={latestValues:en(t,r,a,e),renderState:o()};return i&&(u.mount=function(n){return i(t,n,u)}),u}var an=function(n){return function(t,a){var e=r(O),o=r(m);return a?rn(n,t,e,o):C((function(){return rn(n,t,e,o)}))}};function en(n,t,r,a){var e,o,i={},u=!1===(null==r?void 0:r.initial),s=a(n);for(var l in s)i[l]=(e=s[l],o=void 0,o=S(e)?e.get():e,V(o)?o.toValue():o);var c=n.initial,v=n.animate,d=y(n),f=b(n);t&&f&&!d&&!1!==n.inherit&&(null!=c||(c=t.initial),null!=v||(v=t.animate));var m=u||!1===c?v:c;m&&"boolean"!=typeof m&&!x(m)&&(Array.isArray(m)?m:[m]).forEach((function(t){var r=A(n,t);if(r){var a=r.transitionEnd;r.transition;var e=M(r,["transitionEnd","transition"]);for(var o in e)i[o]=e[o];for(var o in a)i[o]=a[o]}}));return i}var on={useVisualState:an({scrapeMotionValuesFromProps:k,createRenderState:$,onMount:function(n,t,r){var a=r.renderState,e=r.latestValues;try{a.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(n){a.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(a.totalPathLength=t.getTotalLength()),P(a,e,void 0,void 0,{enableHardwareAcceleration:!1},n.transformTemplate),D(t,a)}})};var un={useVisualState:an({scrapeMotionValuesFromProps:H,createRenderState:q})};var sn=function(n){function t(t,r){return void 0===r&&(r={}),W(n(t,r))}var r=new Map;return new Proxy(t,{get:function(n,a){return r.has(a)||r.set(a,t(a)),r.get(a)}})}((function(n,t,r,a){var e=t.forwardMotionProps,o=void 0!==e&&e,i=T(n)?on:un;return v(v({},i),{preloadedFeatures:r,useRender:tn(o),createVisualElement:a,Component:n})}));export{sn as m};
